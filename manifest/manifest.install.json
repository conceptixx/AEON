{
  "manifest_version": "1.3.0",
  "type": "entry_instruction",
  "name": "AEON Installation Orchestration",
  "description": "Main entry point for AEON installation with configurable CLI flags",
  
  "cli": {
    "flags_schema": {
      "flags": [
        {
          "name": "enable-cli",
          "aliases": ["c"],
          "type": "bool",
          "default": false,
          "required": false,
          "description": "Enable CLI tools installation and configuration"
        },
        {
          "name": "enable-web",
          "aliases": ["w"],
          "type": "bool",
          "default": false,
          "required": false,
          "description": "Enable web interface installation and configuration"
        },
        {
          "name": "noninteractive",
          "aliases": ["n"],
          "type": "bool",
          "default": false,
          "required": false,
          "description": "Run in non-interactive mode without user prompts"
        },
        {
          "name": "install-path",
          "aliases": ["p"],
          "type": "string",
          "default": null,
          "required": false,
          "description": "Override default installation path"
        },
        {
          "name": "log-level",
          "aliases": ["l"],
          "type": "string",
          "default": "info",
          "required": false,
          "description": "Logging level: debug, info, warn, error"
        }
      ],
      "unknown_policy": "warn"
    }
  },
  
  "required_now": [
    "library/orchestrator/orchestrator.json.py",
    "library/actions/registry.json",
    "manifest/config/manifest.config.default.json"
  ],
  
  "required_eventually": [
    "library/actions/install_docker.py",
    "library/actions/configure_network.py",
    "library/actions/validate_system.py"
  ],
  
  "actions": [
    {
      "type": "validate_system",
      "description": "Validate system requirements and dependencies",
      "config": {
        "min_python_version": "3.8",
        "required_tools": ["git", "docker"],
        "skip_if": "${flags.noninteractive && !flags.enable-cli}"
      }
    },
    {
      "type": "install_docker",
      "description": "Install and configure Docker if enabled",
      "config": {
        "enabled": "${flags.enable-cli}",
        "version": "latest",
        "skip_if": "${!flags.enable-cli}"
      }
    },
    {
      "type": "setup_web_interface",
      "description": "Setup web interface if enabled",
      "config": {
        "enabled": "${flags.enable-web}",
        "port": 8080,
        "skip_if": "${!flags.enable-web}"
      }
    },
    {
      "type": "finalize_installation",
      "description": "Finalize installation and generate report",
      "config": {
        "generate_report": true,
        "report_format": "json",
        "quiet": "${flags.noninteractive}"
      }
    }
  ],
  
  "outputs": {
    "summary": {
      "enabled": true,
      "format": "text",
      "suppress_if_noninteractive": true
    },
    "log_file": {
      "enabled": true,
      "path": "logs/install_${timestamp}.log",
      "level": "${flags.log-level}"
    }
  },
  
  "metadata": {
    "author": "AEON Core Team",
    "created": "2025-01-15",
    "updated": "2025-01-15",
    "schema_version": "1.3.0"
  }
}
